<!DOCTYPE html>
<html>
<head>

    <title>Home | goPlay</title>

    <!--CSS Style-->
    <link href="/css/jquery-accordion-menu.css" rel="stylesheet">
    <!--<link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Raleway" />-->
    <!--<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css">-->
    <!--<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">-->
    <!--<link rel="stylesheet" href="css/search.css">-->

    <!-- JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="/js/jquery-accordion-menu.js" type="text/javascript"></script>
    <!--<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular.min.js"></script>-->
    <!--<script src="js/angular.min.js"></script>-->
    <!--<script src="js/angular.js"></script>-->

    <!-- Router -->
    <!--<script src="http://cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.3.2/angular-ui-router.js"></script>-->

    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">

    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.3.2/angular-ui-router.js"></script>

    <script src="/js/angular.js"></script>

    <style>
        body{background: #F0F0F0 repeat-y top right;}
        ::-moz-selection {background: #7ACDFF;}
        ::selection {background: #7ACDFF;}
    </style>

</head>
<body ng-app="goPlay" ng-controller="MainCtrl">

    <div class="sidebar-wrapper" ng-controller="NavCtrl">
        <div class="content">
            <div class="jquery-accordion-menu green" id="jquery-accordion-menu">
                <ul>
                    <li ng-show="isLoggedIn()"><a>{{ currentUser() }}</a></li>
                    <li>
                        <a href="/#/home.html"><i class="fa fa-home"></i>Home</a>
                    </li>
                    <li ng-hide="isLoggedIn()"><a href="/#/login">Log In</a></li>
                    <li ng-hide="isLoggedIn()"><a href="/#/register">Register</a></li>
                    <li ng-show="isLoggedIn()"><a href="" ng-click="logOut()">Log Out</a></li>
                </ul>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-6 col-md-offset-3">
            <ui-view></ui-view>
        </div>
    </div>

    <script type="text/ng-template" id="/home.html">
        <div class="page-header">
            <img src="/img/goplay_green.png">
        </div>

        <div ng-repeat="club in clubs">
            <span style="font-size:20px; margin-left:10px;">
                {{club.name}}
            </span>
            <span>
                <a href="#/clubs/{{club._id}}">Details</a>
            </span>
        </div>

        <form ng-submit="createClub()">
            <h3>Create a club</h3>

            <div class="form-group">
                <input type="text"
                       class="form-control"
                       placeholder="Name"
                       ng-model="name"></input>

                <textarea type="text"
                       class="form-control"
                       rows="3"
                       placeholder="Description"
                       ng-model="desc"></textarea>
            </div>
            <button type="submit" class="btn btn-primary">Create</button>
        </form>
    </script>

    <script type="text/ng-template" id="/clubs.html">
        <div class="page-header">
            <h3>
                <h1 ng-show="club.name">
                    {{club.name}}
                </h1>
            </h3>
        </div>

        <span style="font-size:20px; margin-left:10px;">
                {{club.desc}}
        </span>

        <span style="font-size:20px; margin-left:10px;">
                {{club.owner}}
        </span>

        <div ng-repeat="event in club.events">
            {{event.creator}}
            {{event.name}}
            {{event.desc}}
        </div>

        <form ng-submit="addEvent()"
              style="margin-top:30px;" ng-show="isLoggedIn()">
            <h3>Create an event</h3>

            <div class="form-group">
                <input type="text"
                       class="form-control"
                       placeholder="Name"
                       ng-model="name"></input>

                <textarea type="text"
                          class="form-control"
                          rows="3"
                          placeholder="Description"
                          ng-model="desc"></textarea>
            </div>
            <button type="submit" class="btn btn-primary">Create</button>
        </form>
    </script>

    <script type="text/ng-template" id="/login.html">
        <div class="page-header">
            <h1>goPlay</h1>
        </div>

        <div ng-show="error" class="alert alert-danger row">
            <span>{{ error.message }}</span>
        </div>

        <form ng-submit="logIn()"
              style="margin-top:30px;">
            <h3>Log In</h3>

            <div class="form-group">
                <input type="text"
                       class="form-control"
                       placeholder="Username"
                       ng-model="user.username"></input>
            </div>
            <div class="form-group">
                <input type="password"
                       class="form-control"
                       placeholder="Password"
                       ng-model="user.password"></input>
            </div>
            <button type="submit" class="btn btn-primary">Log In</button>
        </form>
    </script>

    <script type="text/ng-template" id="/register.html">
        <div class="page-header">
            <h1>goPlay</h1>
        </div>

        <div ng-show="error" class="alert alert-danger row">
            <span>{{ error.message }}</span>
        </div>

        <form ng-submit="register()"
              style="margin-top:30px;">
            <h3>Register</h3>

            <div class="form-group">
                <input type="text"
                       class="form-control"
                       placeholder="Username"
                       ng-model="user.username"></input>
            </div>
            <div class="form-group">
                <input type="password"
                       class="form-control"
                       placeholder="Password"
                       ng-model="user.password"></input>
            </div>
            <button type="submit" class="btn btn-primary">Register</button>
        </form>
    </script>

</body>
</html>